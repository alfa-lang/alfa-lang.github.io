

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-146018870-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>typedefs &mdash; ALFA</title>
  

  
  
    <link rel="shortcut icon" href="../../../../_static/alfa-a.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../../',
              VERSION:'1.0.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/alfa-theme.css" type="text/css" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html">
          

          
            
            <img src="../../../../_static/AlfaLogo4c4c4c.svg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide.html">Language Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../exporters/exporters.html">Code Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../apis/runtimeapis.html">Runtime APIs &amp; Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../labs/labs.html">ALFA Labs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Alfa</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
      <li>typedefs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="typedefs">
<h1>typedefs<a class="headerlink" href="#typedefs" title="Permalink to this headline">¶</a></h1>
<p>A <code class="docutils literal notranslate"><span class="pre">typedefs</span></code> declaration can be used to create new types based on existing data types including
existing typedefs. It can also be used to define ‘native’ types as outlined in the section below.</p>
<p><code class="docutils literal notranslate"><span class="pre">typedefs</span></code> is a top level declaration and its entries are available for use in any UDT. Generic types
can be defined combining existing types, such as the dictionary declaration below.</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">typedefs</span> <span class="p">{</span>
    <span class="n">uint</span> <span class="p">=</span> <span class="kt">int</span><span class="p">(</span><span class="m">0</span><span class="p">,*)</span>
    <span class="n">dictionary</span><span class="p">&lt;</span> <span class="n">T</span> <span class="p">&gt;</span> <span class="p">=</span> <span class="k">map</span><span class="p">&lt;</span> <span class="kt">string</span><span class="p">,</span> <span class="n">T</span> <span class="p">&gt;</span>
<span class="p">}</span>

<span class="k">record</span> <span class="n">Team</span> <span class="p">{</span>
    <span class="n">Name</span> <span class="p">:</span> <span class="kt">string</span>
    <span class="n">Points</span> <span class="p">:</span> <span class="n">uint</span>
    <span class="n">PlayerAndRank</span> <span class="p">:</span> <span class="n">dictionary</span><span class="p">&lt;</span> <span class="kt">int</span> <span class="p">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The declaration order of typedefs has no effect. A typedef can be referenced before it is declared.</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">typedefs</span> <span class="p">{</span>
  <span class="n">money</span> <span class="p">=</span> <span class="n">ccy</span>
  <span class="n">ccy</span> <span class="p">=</span> <span class="kt">string</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Use of <code class="docutils literal notranslate"><span class="pre">typedefs</span></code> is optional. However, its use can encourage creation of more consistent and clear data models.</p>
<div class="section" id="native-typedefs">
<h2>Native typedefs<a class="headerlink" href="#native-typedefs" title="Permalink to this headline">¶</a></h2>
<p>ALFA already supports an extensive set of datatypes, but it can be further extended with ‘native’ data types.
These are for cases where real-world use cases demand other conditions or considerations that cannot simply be modelled
with a fixed set of data types.</p>
<p>Consider example models where:</p>
<ul class="simple">
<li>Length or Weight - expressed in different units, but a single ‘length’ or ‘weight’ type is required.</li>
<li>Storage - expressed in different units KB, MB or GB.</li>
<li>Tenor - in Finance where 4 weeks, 1 month, 12 months, 1 year etc is expressed.</li>
</ul>
<p>These types often contain multiple representations for the same canonical value. E.g. Tenor values of 52W, 12M or 1Y
are considered equal, therefore a native type would need to implement such equality logic. It may optionally implement a
standard ‘canonical’ serialisation output format regardless of the value originally expressed.</p>
<p>A native type is declared as follows:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>typedefs {
  storage = native acme.types.Storage
}
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">storage</span></code> is the new type definition being introduced.</li>
<li><code class="docutils literal notranslate"><span class="pre">acme.types.Storage</span></code> is the native runtime implementation.</li>
</ul>
<p>With that in place, the new type can be used as a data type.</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>record Laptop {
    StorageCapacity : storage
}
</pre></div>
</div>
<p>At compile time, the ALFA compiler does not validate the existence of the native class ( <code class="docutils literal notranslate"><span class="pre">acme.types.Storage</span></code> in the example above ).</p>
<p>An ALFA native type can be implemented as a runtime class in a target language that implements the required logic.</p>
</div>
</div>


           </div>
           
          </div>
          <center>
    <footer>
        <hr/>
        <div role="contentinfo">
            <p>
                    © Copyright 2020 Schemarise Ltd |
                    <a href='/legal/privacy.html'>Privacy</a> | 
                    <a href='/legal/terms.html'>Terms</a>
            </p>
        </div> 
    </footer>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/cookie-bar/cookiebar-latest.min.js?"></script>
</center> 
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
